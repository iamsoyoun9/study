<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="./desktop.css">
	<script src="./desktop.js"></script>
</head>

<body>
	<section class="desktop">
	</section>

	<script>
		// 변수
		var body = document.getElementsByTagName('body')[0];
		var desktop = document.querySelector('.desktop');

		desktop.draggable = true;

		var c_btn = document.createElement('button');
		var space = document.createElement('div');
		var icon = space.getElementsByTagName('img');

		var modal = document.createElement('div')
		var modal_body = document.createElement('div');
		var close_btn = document.createElement('button');

		var folder = [];


		// 웹 화면
		var t = document.createElement('div')
		t.className = 'top';
		desktop.appendChild(t)

		c_btn.className = 'create_btn';
		c_btn.textContent = '폴더 생성';
		t.appendChild(c_btn);

		space.className = 'space';
		desktop.appendChild(space);


		// 모달
		modal.className = 'modal';
		modal_body.className = 'modal_body';
		modal_body.textContent ='hello :D'
		close_btn.className = 'close_btn';
		close_btn.textContent = "X"

		body.appendChild(modal);
		modal.appendChild(modal_body);
		modal_body.appendChild(close_btn);


		
		



		let myDesktop = new Desktop(
			/* TODO: myDesktop 인스턴스의 생성자의 변수로 무엇이 들어가야 할까요? */
		);



		/* 폴더 */

		// 폴더 아이콘
		var f_name = 0;
		c_btn.addEventListener('click', () => { // 폴더 생성 버튼 클릭시 폴더 생성
			console.log('this',this.f_name); // 배열에 들어왔는지 확인
			function create (){// 폴더 생성
				folder[this.f_name] = new Image();
				folder[this.f_name].src = './icon/folder.png';
				folder[this.f_name].alt = 'folder'+([this.f_name+1]);
				space.append(folder[this.f_name])
				folder[this.f_name].className = 'folder'
				console.log('folder 개수 >> ',folder.length)
				console.log('folder alt >> ',folder[this.f_name].alt)
			}
			create() // 함수호출
			this.f_name++;
			
			folder.forEach(function(el,index){
				el.addEventListener('dragstart', () => {
					console.log(folder[index],'드래그 시작')
				})
			})

		})
		










		// 폴더 더블클릭 시 모달 작동 !!!
		space.addEventListener('dblclick', () => { // 더블클릭
			console.log('더블클릭')
			modal.classList.toggle('show');

			if (modal.classList.contains('show')) {
				body.style.overflow = 'hidden';
			}
		});
		
		close_btn.addEventListener('click', () =>{ // 닫기 버튼 누르면 화면 사라짐
			modal.classList.toggle('show');
			console.log('모달창 닫음')
		})
		








		// desktop.addEventListener('dragstart', (e) => {
		// 	console.log('드래그 시작')
		// })







		







		

		// modal.addEventListener('click', (event) => {
		// 	if (event.target === modal) {
		// 		modal.classList.toggle('show');

		// 		if (!modal.classList.contains('show')) {
		// 			body.style.overflow = 'auto';
		// 		}
		// 	}
		// })




		// desktop.addEventListener('mousedown', () => {
		// 	console.log('마우스 클릭 O');
		// });

		// desktop.addEventListener('mouseup', () => {
		// 	console.log('마우스 클릭 X');
		// });







	</script>
</body>

</html>