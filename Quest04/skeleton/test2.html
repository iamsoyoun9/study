<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./test2.css">
    <script src="./desktop.js"></script>
    <title>ğŸ’»</title>
</head>

<body>
    <section class="desktop">
    </section>
    <script>
        // ë ˆì´ì•„ì›ƒ
        let body = document.getElementsByTagName('body')[0]; // body ì˜ì—­
        let desktop = document.querySelector('.desktop'); // desktop ì˜ì—­
        /** ì•„ì´ì½˜ì„ ë‹´ì„ ì˜ì—­ **/
        let box = document.createElement('div');
        box.className = 'box';
        desktop.appendChild(box);
        /** ì´ˆê¸° ë©”ì¸ í™”ë©´ **/
        let footer = document.createElement('footer');
        footer.className = 'footer';
        body.append(footer);
        let nav = document.createElement('div'); // í•˜ë‹¨ nav ìƒì„±
        // nav ìƒì„±
        nav.className = 'nav';
        footer.appendChild(nav);
        /** nav ê¸°ë³¸ ì„¸íŒ… **/
        let plus = document.createElement('img');
        plus.className = 'plus';
        plus.src = 'icon/plus.png';
        nav.appendChild(plus);
        /** ë§í’ì„  ë³´ì´ê¸° **/
        let bubble = document.createElement('div');
        bubble.className = 'bubble';
        footer.appendChild(bubble);
        bubble.style.display = 'none';
        plus.addEventListener('click', function () {
            if (bubble.style.display == 'none') {
                bubble.style.display = 'block';
            } else {
                bubble.style.display = 'none';
            }
        })

        // /** input **/
        /** create **/
        var cDiv;
        var cInput;
        var cSubmit;

        function div(divName, cName, eName) {
            divName = document.createElement('div');
            divName.className = cName;
            eName.appendChild(divName);
            return divName;
        }

        let iconDiv = div(cDiv, 'inputArea', bubble); // 1ë²ˆì§¸ input icon div ì˜ì—­
        let folderDiv = div(cDiv, 'inputArea', bubble); // 2ë²ˆì§¸ input , folder div ì˜ì—­

        function inputText(divName, inputName, name) {
            inputName = document.createElement('input');
            inputName.type = 'number';
            inputName.placeholder = 'ìƒì„±í•  ' + name + 'ì˜ ê°œìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”';
            inputName.className = 'input';
            divName.appendChild(inputName);
            return inputName;
        }
        let iconInput = inputText(iconDiv, cInput, 'ì•„ì´ì½˜');
        let folderInput = inputText(folderDiv, cInput, 'í´ë”');

        function inputSubmit(divName, submitName, cName, name) {
            submitName = document.createElement('input');
            submitName.type = 'submit';
            submitName.className = cName + 'Submit';
            submitName.value = name + 'ìƒì„±';
            divName.appendChild(submitName);
            return submitName;
        }
        let iconSubmit = inputSubmit(iconDiv, cSubmit, 'icon', 'ì•„ì´ì½˜');
        let folderSubmit = inputSubmit(folderDiv, cSubmit, 'folder', 'í´ë”');

        let iconNum = 0; // ì…ë ¥ë°›ì€ ì•„ì´ì½˜ ê°œìˆ˜
        let folderNum = 0; // ì…ë ¥ë°›ì€ í´ë” ê°œìˆ˜

        let icons = []
        let folders = [];

        function create(arr,num,type){
            for(var i = arr.length; i < num; i++){
                arr[i] = new Image();
                arr[i].src = './icon/'+ type +'.png';
                arr[i].alt = type + arr.length;
                arr[i].className = type;
                box.append(arr[i]);
            }
        }

        
        let start = document.querySelectorAll('.inputArea > input[type="submit"]');
        start.forEach(function (e) {
            e.addEventListener('click', function () {
                e.value == 'ì•„ì´ì½˜ìƒì„±' ? iconNum += Number(iconInput.value) : folderNum += Number(folderInput.value);
                e.value == 'ì•„ì´ì½˜ìƒì„±' ? create(icons,iconNum,'icon') : create(folders,folderNum,'folder');
                e.parentElement.children[0].value = '';
                // e.parentElement.innerHTML = (e.value == 'ì•„ì´ì½˜ìƒì„±') ? '<h5 class = "success">âœ” ì•„ì´ì½˜ ìƒì„±ì™„ë£Œ</h5>':'<h5 class ="success">âœ” í´ë” ìƒì„±ì™„ë£Œ</h5>';
                
            })
        })
        
        desktop.draggable = true; // ë“œë˜ê·¸ í—ˆìš©



        // /** ëª¨ë‹¬ **/
        // let modal = document.createElement('div')
        // let modalBody = document.createElement('div');
        // let closeBtn = document.createElement('button');
        // let myDesktop = new Desktop(
        //     /* TODO: myDesktop ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒì„±ìì˜ ë³€ìˆ˜ë¡œ ë¬´ì—‡ì´ ë“¤ì–´ê°€ì•¼ í• ê¹Œìš”? */
        // );



    </script>
</body>

</html>