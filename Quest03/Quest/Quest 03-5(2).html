<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <title>가위바위보 게임</title>

    <style>
      body {
        width: 50%;
        max-width: 800px;
        min-width: 480px;
        margin: 0 auto;
      }

    </style>
  </head>

  <body>
    <h1>가위바위보 게임</h1>

    <li style="margin-bottom:5px;">게임시작을 누르면 랜덤값으로 가위,바위,보중 하나가 지정됩니다.</li>
    <li style="margin-bottom:15px;">유저도 가위,바위,보중에 하나를 선택하고 결과를 확인합니다.</li>
    <div class="setDigitForm">
      <input type="button" value="게임시작" class="setPrsSubmit" style="width:310px;">
    </div>
	
    <div class="form" style="margin-top:40px;">
      <input type="button" id="btnScissors" value="가위" class="btnScissors" style="width:100px;">
      <input type="button" id="btnRock" value="바위" class="btnRock" style="width:100px;">
      <input type="button" id="btnPaper" value="보" class="btnPaper" style="width:100px;">
    </div>

    <div class="resultArea" style="margin-top:40px;">
      <span>승패여부는 여기에!!</span>
    </div>

    <script>
        /** TODO: 여기에 게임이 작동될 수 있도록 스크립트를 짜보세요  */
        var pc;
        var user;
        var pc_icon;
        var user_icon;

        /* pc */
        var start = document.getElementsByClassName('setPrsSubmit')[0];
        var rock = document.getElementById('btnRock');
        var scissors = document.getElementById('btnScissors');
        var paper = document.getElementById('btnPaper');
        var result = document.getElementsByClassName('resultArea')[0];
        var form = document.getElementsByClassName('form')[0];
        
        // 게임시작 전 버튼 비활성화
        scissors.disabled = true;
        rock.disabled = true;
        paper.disabled = true;
        start.addEventListener('click',function(){ // 게임시작 클릭
          // 버튼 활성화
          scissors.disabled = false;
          rock.disabled = false;
          paper.disabled = false;
          
          var list = [rock.value,scissors.value,paper.value];
            pc = list[Math.floor(Math.random() * list.length)];
            switch (pc){
              case rock.value:
                pc_icon = "✊";
                break;
              case scissors.value:
                pc_icon = "✌";
                break;
              case paper.value :
                pc_icon = "✋";
                break;
            }
            console.log("pc >> ",pc)
        })

        /* user */
        rock.addEventListener('click',function(){
          user = rock.value;
          user_icon = "✊";
        });
        scissors.addEventListener('click',function(){
          user = scissors.value;
          user_icon = "✌";
        });
        paper.addEventListener('click',function(){
          user = paper.value;
          user_icon = "✋";
        });

        /* game */
        form.addEventListener('click',function(){
          result.innerHTML = ("<h3> PC >> "+ pc_icon + "</h3><h3>USER >> "+ user_icon + "</h3>");
            if( user == pc){
              result.innerHTML += ("<h2>비겼습니다</h2>")
            }else{
              if(user == "보" && pc == "바위" || user == "바위" && pc =="가위"|| user == "가위" && pc == "보"){
                    result.innerHTML += ("<h2>이겼습니다</h2>")
                  }else{
                      result.innerHTML += ("<h2>졌습니다</h2>")
                    }
                }
            console.log('user >> ', user)
        })

    </script>
  </body>
</html>
