<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„ âœŒ âœŠ âœ‹</title>
	<style>
		body {
			width: 50%;
			max-width: 800px;
			min-width: 480px;
			margin: 0 auto;
		}
	</style>
</head>

<body>
	<h1>ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„</h1>
	<li style="margin-bottom:5px;">ê²Œì„ì‹œì‘ì„ ëˆ„ë¥´ë©´ ëœë¤ê°’ìœ¼ë¡œ ê°€ìœ„,ë°”ìœ„,ë³´ì¤‘ í•˜ë‚˜ê°€ ì§€ì •ë©ë‹ˆë‹¤.</li>
	<li style="margin-bottom:15px;">ìœ ì €ë„ ê°€ìœ„,ë°”ìœ„,ë³´ì¤‘ì— í•˜ë‚˜ë¥¼ ì„ íƒí•˜ê³  ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</li>
	<div class="setDigitForm">
		<input type="button" value="ê²Œì„ì‹œì‘" class="setPrsSubmit" style="width:310px;">
	</div>
	<div class="form" style="margin-top:40px;">
		<input type="button" id="btnScissors" value="ê°€ìœ„" class="btnScissors" style="width:100px;">
		<input type="button" id="btnRock" value="ë°”ìœ„" class="btnRock" style="width:100px;">
		<input type="button" id="btnPaper" value="ë³´" class="btnPaper" style="width:100px;">
	</div>
	<div class="resultArea" style="margin-top:40px;">
		<span>ìŠ¹íŒ¨ì—¬ë¶€ëŠ” ì—¬ê¸°ì—!!</span>
	</div>
	<script>
		var pc;
		var user;
		var pcIcon ='';
		var userIcon ='';
		/* pc */
		var formBtn = document.getElementsByClassName('form')[0].getElementsByTagName('input'); // ê°€ìœ„ë°”ìœ„ë³´ ë²„íŠ¼ìˆëŠ” ì˜ì—­
		var arrBtn = [];
		var show = document.getElementsByClassName('resultArea')[0]; // ì¶œë ¥ì°½
		var btn = []; // ê°€ìœ„ë°”ìœ„ë³´ ë²„íŠ¼ ìš”ì†Œ
		// var list = []; // ê°€ìœ„ë°”ìœ„ë³´ ë²„íŠ¼ ê°’
		// var icon = []; // ê°€ìœ„ë°”ìœ„ë³´ ì•„ì´ì½˜
		// ìì‹ ìš”ì†Œì— ì ‘ê·¼í•˜ëŠ” ë°©ë²• .children
		// ë¶€ëª¨ ìš”ì†Œì— ì ‘ê·¼í•˜ëŠ” ë°©ë²• .parentElement
		// btn = [form.children[0], form.children[1], form.children[2]]; // ê°€ìœ„,ë°”ìœ„,ë³´
		// list = [btn[0].value, btn[1].value, btn[2].value]; // ê°€ìœ„,ë°”ìœ„,ë³´
		// icon = ['âœŒ', 'âœŠ', 'âœ‹'];
		arrBtn = [].slice.call(formBtn);
		btn = [
			{ name: arrBtn[0], value: arrBtn[0].value, icon: 'âœŒ' },// ê°€ìœ„
			{ name: arrBtn[1], value: arrBtn[1].value, icon: 'âœŠ' },// ë°”ìœ„
			{ name: arrBtn[2], value: arrBtn[2].value, icon: 'âœ‹' },// ë³´
		]
		/** ë²„íŠ¼ ë¹„í™œì„±í™” **/
		function btnOnOff(state) {
			for (var i = 0; i < btn.length; i++) {
				btn[i].name.disabled = (state === 'on') ? false : true;
			}
		}
		/** ì•„ì´ì½˜ **/
		function icon(name, iconName) {
			for (var i = 0; i < btn.length; i++) {
				if (name == btn[i].value) {
					iconName = btn[i].icon;
				}
			}
			return iconName;
		}

		/** ê²Œì„ ì‹œì‘ **/
		function gameStart() {
				show.innerHTML = ('<span>ìŠ¹íŒ¨ì—¬ë¶€ëŠ” ì—¬ê¸°ì—!!</span>'); // ì¶œë ¥ë¬¸ ì´ˆê¸°í™”
				btnOnOff('on'); // ë²„íŠ¼ í™œì„±í™”
				/** pc **/
				pc = btn[Math.floor(Math.random() * btn.length)].value;
				console.log('pc >> ', pc);
				pcIcon = icon(pc, pcIcon);
			}


		btnOnOff('off'); // ë²„íŠ¼ ë¹„í™œì„±í™”
		document.getElementsByClassName('setPrsSubmit')[0].addEventListener('click',gameStart)// ê²Œì„ì‹œì‘ í´ë¦­
		/** user **/
		arrBtn.forEach(function (c) {
			c.addEventListener('click', function () {
				user = c.value;
				console.log('user >>', user)
				userIcon = icon(user, userIcon);
				show.innerHTML = ('<h1>ğŸ’» â–¸ ' + pcIcon + ' vs ğŸ‘¤ â–¸ ' + userIcon + '</h1>');
				if (user == 'ê°€ìœ„' && pc == 'ë³´' || user == 'ë°”ìœ„' && pc == 'ê°€ìœ„' || user == 'ë³´' && pc == 'ë°”ìœ„') {
					show.innerHTML += ('<h2>ğŸ˜ ì´ê²¼ìŠµë‹ˆë‹¤ ğŸ˜</h2>');
					btnOnOff('off');
					return;
				}
				if(user !== pc){
					show.innerHTML += ('<h2>ğŸ˜¥ ì¡ŒìŠµë‹ˆë‹¤ ğŸ˜¥</h2>');
					btnOnOff('off');
					return;
				}
				show.innerHTML += ('<h2>ğŸ˜® ë¹„ê²¼ìŠµë‹ˆë‹¤ ğŸ˜®</h2>');
				setTimeout(function(){
					confirm('ì¬ê²½ê¸°ë¥¼ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?') ? gameStart(): btnOnOff('off');
				},1000);
			})
		})
	</script>
</body>

</html>